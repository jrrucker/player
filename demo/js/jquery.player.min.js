/*!
 * jQuery Player v1.1.2
 * https://github.com/jrrucker/player
 * 
 * Created by Josh Rucker (http://www.joshrucker.com), 
 * NC State Unversity Communications (http://www.ncsu.edu/university-communications/)
 * 
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 * Build Date: 2014-02-10
 */
(function(d,c,a,e){var b=function(g,f){this.elem=g;this.$elem=d(g);this.options=f;this.metadata=this.$elem.data("player-options")};b.prototype={defaults:{animationDuration:500,rotates:true,interval:8000,itemClass:"player-item",hasPagers:true},init:function(){this.config=d.extend({},this.defaults,this.options,this.metadata);this.isAnimating=false;this.features={};this.$container=this.$elem;this.$items=this.$elem.find("."+this.config.itemClass);this.$currentItem=this.$items.first();this.$items.css("display","none");this.$currentItem.addClass("current-player-item");this.$currentItem.css("display","block");if(!!this.config.hasPagers){this.features.pagers=new this.Pagers(this);this.features.pagers.init()}if(!!this.config.rotates){this.autoRotate()}return this},Pagers:function(g){var f=this;f.parent=g;f.init=function(){f.$pagerContainer=d('<div class="player-pagers" />');for(var k=0,h=g.$items.length;k<h;k++){f.$pagerContainer.append(d('<button type="button" class="'+((k===0)?"active ":"")+'pager-pagers-item" data-pager-page="'+k+'">Slide '+k+"</button>"))}f.$pagerContainer.appendTo(g.$elem);f.bindEvents()};f.bindEvents=function(){f.$pagerContainer.on("click.player","button",d.proxy(f.click,this))};f.click=function(h){if(!f.parent.isAnimating){var j=d(h.currentTarget),i=parseInt(j.data("pager-page"),10);if(!j.hasClass("active")){g.$elem.find("button").removeClass("active");j.addClass("active");g.stageNext(i);g.move()}if(!!f.parent.config.rotates){clearInterval(f.parent.t)}}}},autoRotate:function(){var f=this;f.t=setInterval(function(){var h=f.features.pagers.$pagerContainer.find("button.active");var j=parseInt(h.data("pager-page"),10);var g=0;if(j<(f.$items.length-1)){g=j+1}var i=f.features.pagers.$pagerContainer.find("button:eq("+(g)+")");f.$elem.find("button").removeClass("active");i.addClass("active");f.stageNext(g);f.move()},this.config.interval)},stageNext:function(f){this.$nextItem=this.$elem.find("."+this.config.itemClass+":eq("+f+")")},move:function(){var f=this;f.isAnimating=true;f.$currentItem.fadeOut(f.config.animationDuration,function(){f.$nextItem.fadeIn(f.config.animationDuration,function(){f.$currentItem.removeClass("current-player-item");f.$currentItem=f.$nextItem;f.$currentItem.addClass("current-player-item");f.isAnimating=false})})}};b.defaults=b.prototype.defaults;d.fn.player=function(f){return this.each(function(){new b(this,f).init()})}})(jQuery,window,document);